<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorar Hechos - MetaMapa</title>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            line-height: 1.6;
            color: #374151;
            background-color: #ffffff;
        }
        :root {
  --primary-color: #0891b2;
  --primary-hover: #0e7490;
  --secondary-color: #f59e0b;
  --text-color: #4b5563;
  --text-light: #6b7280;
  --background: #ffffff;
  --surface: #f9fafb;
  --border: #e5e7eb;
  --shadow: 0 4px 6px rgba(0,0,0,0.05);
  --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
}


 /* Same navbar styling as landing page */
    nav {
      background: var(--background);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0; 
      z-index: 100;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    
    .nav-container {
      max-width: 1200px; 
      margin: auto; 
      padding: 1rem 2rem;
      display: flex; 
      justify-content: space-between; 
      align-items: center;
    }
    
    .logo { 
      display: flex; 
      align-items: center; 
      gap: 0.5rem; 
      color: var(--primary-color); 
      font-weight: 700; 
      font-size: 1.5rem; 
      text-decoration: none; 
    }
    
    .nav-links { 
      display: flex; 
      gap: 2rem; 
    }
    
    .nav-links a {
      text-decoration: none; 
      padding: 0.5rem 1rem; 
      border-radius: 0.5rem;
      color: var(--text-color); 
      font-weight: 500;
      transition: all 0.2s ease;
    }
    
    .nav-links a:hover { 
      background: var(--primary-color); 
      color: white; 
      transform: translateY(-1px);
    }

        .auth-buttons {
            display: flex;
            gap: 1rem;
        }

        .btn {
            padding: 0.5rem 1.5rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .btn-outline {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-outline:hover {
            background: white;
            color: #0891b2;
        }

        .btn-primary {
            background: white;
            color: #0891b2;
        }

        .btn-primary:hover {
            background: #f8fafc;
            transform: translateY(-2px);
        }

        /* Mobile menu */
        .mobile-menu {
            display: none;
            background: white;
            color: #0891b2;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .filters {
  background: white;
  padding: 1.5rem;
  border-radius: 12px;
  margin-bottom: 2rem;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}

.filters h3 {
  margin-bottom: 1rem;
  color: #1f2937;
}

.filter-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 1rem;
  align-items: center;
}

.filter-row label {
  font-weight: 500;
}

.filter-row input,
.filter-row select {
  padding: 0.5rem;
  border-radius: 6px;
  border: 1px solid #e5e7eb;
  flex: 1;
  min-width: 150px;
}


        /* Main content */
        .main-content {
            min-height: calc(100vh - 200px);
            padding: 2rem 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .page-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: #6b7280;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Map container */
        .map-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .map-header {
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);
            color: white;
            padding: 1.5rem;
        }

        .map-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .map-description {
            opacity: 0.9;
        }

        #map {
            height: 500px;
            width: 100%;
        }

        /* Fact details panel */
        .fact-details {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            padding: 2rem;
            display: none;
        }

        .fact-details.active {
            display: block;
        }

        .fact-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .fact-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .fact-tag {
            background: #e0f2fe;
            color: #0891b2;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .fact-content {
            color: #4b5563;
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        .fact-sources {
            border-top: 1px solid #e5e7eb;
            padding-top: 1.5rem;
        }

        .sources-title {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .source-link {
            color: #0891b2;
            text-decoration: none;
            display: block;
            margin-bottom: 0.5rem;
        }

        .source-link:hover {
            text-decoration: underline;
        }

        /* Legend */
        .map-legend {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .legend-title {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: #1f2937;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }

        .legend-color.social { background: #ef4444; }
        .legend-color.economic { background: #f59e0b; }
        .legend-color.political { background: #8b5cf6; }
        .legend-color.environmental { background: #10b981; }

        /* Footer */
        footer {
            background: #1f2937;
            color: white;
            padding: 3rem 0 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #0891b2;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section ul li a {
            color: #d1d5db;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section ul li a:hover {
            color: #0891b2;
        }

        .footer-bottom {
            border-top: 1px solid #374151;
            margin-top: 2rem;
            padding-top: 2rem;
            text-align: center;
            color: #9ca3af;
        }
        

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .mobile-menu {
                display: block;
            }

            .auth-buttons {
                display: none;
            }

            .page-title {
                font-size: 2rem;
            }

            .container {
                padding: 0 1rem;
            }

            #map {
                height: 400px;
            }

            .fact-meta {
                flex-direction: column;
                gap: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .page-title {
                font-size: 1.75rem;
            }

            .map-header {
                padding: 1rem;
            }

            .fact-details {
                padding: 1.5rem;
            }

            #map {
                height: 350px;
            }
        }
    </style>
</head>
<body>
   <header>
  <!-- Navbar única -->
  <nav>
    <div class="nav-container">
      <a href="index.html" class="logo">
        <i data-lucide="map"></i> 
        MetaMapa
      </a>
      <div class="nav-links">
        <a href="index.html">Inicio</a>
        <a href="explorar-hechos.html">Explorar</a>
        <a href="index-contribuyente.html">Mi Panel</a>
        <a href="login.html">Cerrar Sesión</a>
      </div>
    </div>
  </nav>
</header>




    <main class="main-content">
        <div class="container">
            <div class="page-header">
                <h1 class="page-title">Explorar Hechos</h1>
                <p class="page-subtitle">
                    Descubre hechos verificados de todo el mundo en nuestro mapa interactivo. 
                    Haz clic en cualquier marcador para ver detalles completos.
                </p>
            </div>
            <div class="filters">
  <h3>Filtrar Hechos</h3>
  <form id="filterForm">
    <div class="filter-row">
      <label for="category">Categoría:</label>
      <select id="category" name="category">
        <option value="">Todas</option>
        <option value="social">Social</option>
        <option value="economic">Económico</option>
        <option value="political">Político</option>
        <option value="environmental">Ambiental</option>
      </select>
    </div>
    <div class="filter-row">
      <label for="dateReportFrom">Fecha de Reporte desde:</label>
      <input type="date" id="dateReportFrom" name="dateReportFrom">
      <label for="dateReportTo">hasta:</label>
      <input type="date" id="dateReportTo" name="dateReportTo">
    </div>
    <div class="filter-row">
      <label for="dateEventFrom">Fecha de Acontecimiento desde:</label>
      <input type="date" id="dateEventFrom" name="dateEventFrom">
      <label for="dateEventTo">hasta:</label>
      <input type="date" id="dateEventTo" name="dateEventTo">
    </div>
    <div class="filter-row">
      <label for="location">Ubicación:</label>
      <input type="text" id="location" name="location" placeholder="Ciudad, país...">
    </div>
    <button type="submit" class="btn-primary">Aplicar filtros</button>
  </form>
</div>


            <div class="map-container">
                <div class="map-header">
                    <h2 class="map-title">Mapa Global de Hechos</h2>
                    <p class="map-description">
                        Cada marcador representa un hecho verificado con fuentes confiables
                    </p>
                </div>
                <div id="map"></div>
            </div>

            <div class="map-legend">
                <h3 class="legend-title">Categorías</h3>
                <div class="legend-item">
                    <div class="legend-color social"></div>
                    <span>Hechos Sociales</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color economic"></div>
                    <span>Hechos Económicos</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color political"></div>
                    <span>Hechos Políticos</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color environmental"></div>
                    <span>Hechos Ambientales</span>
                </div>
            </div>

            <div class="fact-details" id="factDetails">
                <h2 class="fact-title" id="factTitle">Selecciona un hecho en el mapa</h2>
                <div class="fact-meta" id="factMeta"></div>
                <div class="fact-content" id="factContent">
                    Haz clic en cualquier marcador del mapa para ver los detalles del hecho aquí.
                </div>
                <div class="fact-sources" id="factSources" style="display: none;">
                    <h3 class="sources-title">Fuentes</h3>
                    <div id="sourcesList"></div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>MetaMapa</h3>
                <ul>
                    <li><a href="#about">Acerca de</a></li>
                    <li><a href="#mission">Nuestra Misión</a></li>
                    <li><a href="#team">Equipo</a></li>
                    <li><a href="#contact">Contacto</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Explorar</h3>
                <ul>
                    <li><a href="explorar-hechos.html">Hechos</a></li>
                    <li><a href="#colecciones">Colecciones</a></li>
                    <li><a href="#categorias">Categorías</a></li>
                    <li><a href="#buscar">Búsqueda Avanzada</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Comunidad</h3>
                <ul>
                    <li><a href="register.html">Únete</a></li>
                    <li><a href="#contribuir">Contribuir</a></li>
                    <li><a href="#guidelines">Guías</a></li>
                    <li><a href="#faq">FAQ</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Legal</h3>
                <ul>
                    <li><a href="#privacy">Privacidad</a></li>
                    <li><a href="#terms">Términos</a></li>
                    <li><a href="#cookies">Cookies</a></li>
                    <li><a href="#transparency">Transparencia</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 MetaMapa. Todos los derechos reservados. Construyendo conocimiento colaborativo.</p>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Initialize map
        const map = L.map('map').setView([-34.6037, -58.3816], 2);

        // Add tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Sample facts data
    const facts = [
        {
            id: 1,
            title: "Reducción de la Pobreza en Argentina",
            lat: -34.6037,
            lng: -58.3816,
            category: "social",
            content: "Según datos del INDEC, la pobreza en Argentina se redujo del 35.4% al 32.6% en el último trimestre de 2023, afectando a aproximadamente 15 millones de personas.",
            sources: [
                "Informe oficial del INDEC sobre pobreza 2023",
                "Ministerio de Economía de Argentina: datos sociales"
            ],
            date: "2024-01-15",
            verified: true
        },
        {
            id: 2,
            title: "Crecimiento del PIB Brasileño",
            lat: -15.7942,
            lng: -47.8822,
            category: "economic",
            content: "El PIB de Brasil creció un 2.9% en 2023, superando las expectativas iniciales del 2.1%, impulsado principalmente por el sector servicios y la industria manufacturera.",
            sources: [
                "Instituto Brasileño de Geografía y Estadística (IBGE)",
                "Banco Central de Brasil – Informe de Inflación 2023"
            ],
            date: "2024-02-20",
            verified: true
        },
        {
            id: 3,
            title: "Reforma Educativa en Chile",
            lat: -33.4489,
            lng: -70.6693,
            category: "political",
            content: "El Congreso chileno aprobó una reforma educativa que aumenta la inversión en educación pública en un 15% y establece nuevos estándares de calidad para 2024-2026.",
            sources: [
                "Ministerio de Educación de Chile – Reforma 2024",
                "Registro oficial del Congreso Nacional de Chile"
            ],
            date: "2024-03-10",
            verified: true
        },
        {
            id: 4,
            title: "Deforestación en la Amazonía",
            lat: -3.4653,
            lng: -62.2159,
            category: "environmental",
            content: "Los datos satelitales muestran una reducción del 22% en la deforestación de la Amazonía brasileña durante 2023, la menor tasa registrada en los últimos 5 años.",
            sources: [
                "Instituto Nacional de Investigaciones Espaciales (INPE)",
                "Ministerio de Medio Ambiente de Brasil – Informe 2023"
            ],
            date: "2024-01-30",
            verified: true
        },
        {
            id: 5,
            title: "Elecciones Presidenciales en México",
            lat: 19.4326,
            lng: -99.1332,
            category: "political",
            content: "Las elecciones presidenciales de México 2024 registraron una participación del 68.2%, la más alta en los últimos 12 años, con más de 65 millones de votantes.",
            sources: [
                "Instituto Nacional Electoral (INE) – Resultados 2024",
                "Tribunal Electoral del Poder Judicial – Reporte oficial"
            ],
            date: "2024-06-02",
            verified: true
        },
        {
            id: 6,
            title: "Avance en Energía Solar en España",
            lat: 40.4168,
            lng: -3.7038,
            category: "environmental",
            content: "España instaló 5.2 GW de nueva capacidad solar en 2023, consolidándose como uno de los líderes europeos en energía renovable.",
            sources: [
                "Asociación Española de Energía Renovable – Informe 2023",
                "Ministerio para la Transición Ecológica – Energía Solar"
            ],
            date: "2024-04-05",
            verified: true
        },
        {
            id: 7,
            title: "Avances en Vacunación contra el Dengue en Perú",
            lat: -12.0464,
            lng: -77.0428,
            category: "social",
            content: "El Ministerio de Salud de Perú lanzó un plan piloto de vacunación contra el dengue en 5 regiones, beneficiando a más de 1 millón de personas.",
            sources: [
                "Ministerio de Salud del Perú – Plan de Vacunación 2024",
                "Organización Panamericana de la Salud – Reporte Regional"
            ],
            date: "2024-05-18",
            verified: true
        }
    ];


        // Color mapping for categories
        const categoryColors = {
            social: '#ef4444',
            economic: '#f59e0b',
            political: '#8b5cf6',
            environmental: '#10b981'
        };

        // Add markers to map
        facts.forEach(fact => {
            const marker = L.circleMarker([fact.lat, fact.lng], {
                color: categoryColors[fact.category],
                fillColor: categoryColors[fact.category],
                fillOpacity: 0.8,
                radius: 8,
                weight: 2
            }).addTo(map);

            // Add click event to marker
            marker.on('click', function() {
                showFactDetails(fact);
            });

            // Add tooltip
            marker.bindTooltip(fact.title, {
                permanent: false,
                direction: 'top'
            });
        });

        // Function to show fact details
        function showFactDetails(fact) {
            const factDetails = document.getElementById('factDetails');
            const factTitle = document.getElementById('factTitle');
            const factMeta = document.getElementById('factMeta');
            const factContent = document.getElementById('factContent');
            const factSources = document.getElementById('factSources');
            const sourcesList = document.getElementById('sourcesList');

            // Update content
            factTitle.textContent = fact.title;
            
            // Update meta information
            factMeta.innerHTML = `
                <span class="fact-tag">${getCategoryName(fact.category)}</span>
                <span class="fact-tag">${fact.date}</span>
                <span class="fact-tag">✓ Verificado</span>
            `;

            factContent.textContent = fact.content;

            // Update sources
            sourcesList.innerHTML = '';
            fact.sources.forEach(source => {
                const link = document.createElement('a');
                link.href = source;
                link.textContent = source;
                link.className = 'source-link';
                link.target = '_blank';
                sourcesList.appendChild(link);
            });

            // Show details panel
            factDetails.classList.add('active');
            factSources.style.display = 'block';

            // Scroll to details
            factDetails.scrollIntoView({ behavior: 'smooth' });
        }

        // Helper function to get category name in Spanish
        function getCategoryName(category) {
            const names = {
                social: 'Social',
                economic: 'Económico',
                political: 'Político',
                environmental: 'Ambiental'
            };
            return names[category] || category;
        }

        // Mobile menu functionality
        document.querySelector('.mobile-menu').addEventListener('click', function() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
        });
    </script>
    <script>lucide.createIcons();</script>
</body>
</html>
